{"ast":null,"code":"var _jsxFileName = \"D:\\\\Site\\\\dualCore\\\\src\\\\Components\\\\report_popup\\\\report.js\";\nimport React from 'react';\nimport { Spring } from 'react-spring/renderprops';\nimport './report.css';\nimport firebase from '../firebase';\nexport default class Report extends React.Component {\n  constructor() {\n    super();\n    this.files = null;\n  }\n\n  Up() {\n    let count = 0;\n    let ref = firebase.database().ref();\n    ref.on(\"child_added\", function (snap) {\n      count++;\n    });\n    let x, y;\n    let imgName = document.getElementById(\"custom-text\").innerHTML;\n    let checked = imgName.split('.');\n    firebase.database().ref('Images/' + checked[0]).put(this.files[0]);\n    navigator.geolocation.getCurrentPosition(position => {\n      x = position.coords.latitude;\n      y = position.coords.longitude;\n      firebase.database().ref().child('Marker' + count).set({\n        x: x,\n        y: y\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Spring, {\n      from: {\n        opacity: 0,\n        marginTop: window.innerHeight / 2\n      },\n      to: {\n        opacity: 1,\n        marginTop: -61.5 * window.innerHeight / 100\n      },\n      config: {\n        duration: 1000\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, props => /*#__PURE__*/React.createElement(\"div\", {\n      style: props,\n      className: \"report\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 29\n      }\n    }, \"Welcome to the Report Page\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 29\n      }\n    }, \"To report a fire, please input your email below and a photo of the fire.\"), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"form-email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"email\",\n      name: \"email\",\n      defaultValue: \"someone@example.com\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"real-file\",\n      onChange: e => {\n        this.files = e.target.files;\n        let reader = new FileReader();\n        document.getElementById(\"custom-text\").innerHTML = this.files.item(0).name;\n        reader.readAsDataURL(this.files[0]);\n      },\n      hidden: \"hidden\",\n      ref: fileInput => this.fileInput = fileInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      id: \"custom-button\",\n      onClick: () => this.fileInput.click(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, \"CHOOSE A FILE\"), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"custom-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 29\n      }\n    }, \"No file chosen, yet.\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 79\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"bnpm sutton\",\n      id: \"upload-button\",\n      onClick: () => this.Up(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }, \"Upload\")))));\n  }\n\n}","map":{"version":3,"sources":["D:/Site/dualCore/src/Components/report_popup/report.js"],"names":["React","Spring","firebase","Report","Component","constructor","files","Up","count","ref","database","on","snap","x","y","imgName","document","getElementById","innerHTML","checked","split","put","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","child","set","render","opacity","marginTop","window","innerHeight","duration","props","e","target","reader","FileReader","item","name","readAsDataURL","fileInput","click"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,0BAAvB;AACA,OAAO,cAAP;AACA,OAAOC,QAAP,MAAqB,aAArB;AAEA,eAAe,MAAMC,MAAN,SAAqBH,KAAK,CAACI,SAA3B,CAAoC;AAC/CC,EAAAA,WAAW,GAAE;AACT;AAEA,SAAKC,KAAL,GAAa,IAAb;AACH;;AAEDC,EAAAA,EAAE,GAAE;AACA,QAAIC,KAAK,GAAG,CAAZ;AACA,QAAIC,GAAG,GAAGP,QAAQ,CAACQ,QAAT,GAAoBD,GAApB,EAAV;AACAA,IAAAA,GAAG,CAACE,EAAJ,CAAO,aAAP,EAAsB,UAASC,IAAT,EAAe;AACjCJ,MAAAA,KAAK;AACR,KAFD;AAKA,QAAIK,CAAJ,EAAOC,CAAP;AACA,QAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,SAArD;AACA,QAAIC,OAAO,GAAGJ,OAAO,CAACK,KAAR,CAAc,GAAd,CAAd;AACAlB,IAAAA,QAAQ,CAACQ,QAAT,GAAoBD,GAApB,CAAwB,YAAUU,OAAO,CAAC,CAAD,CAAzC,EAA8CE,GAA9C,CAAkD,KAAKf,KAAL,CAAW,CAAX,CAAlD;AACAgB,IAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAA0CC,QAAD,IAAc;AACnDZ,MAAAA,CAAC,GAAGY,QAAQ,CAACC,MAAT,CAAgBC,QAApB;AACAb,MAAAA,CAAC,GAAGW,QAAQ,CAACC,MAAT,CAAgBE,SAApB;AAEA1B,MAAAA,QAAQ,CAACQ,QAAT,GAAoBD,GAApB,GAA0BoB,KAA1B,CAAgC,WAASrB,KAAzC,EAAgDsB,GAAhD,CAAoD;AAChDjB,QAAAA,CAAC,EAAEA,CAD6C;AAEhDC,QAAAA,CAAC,EAAEA;AAF6C,OAApD;AAIH,KARD;AAUH;;AAEDiB,EAAAA,MAAM,GAAE;AACJ,wBACI,uDACI,oBAAC,MAAD;AACI,MAAA,IAAI,EAAE;AAACC,QAAAA,OAAO,EAAC,CAAT;AAAYC,QAAAA,SAAS,EAAEC,MAAM,CAACC,WAAP,GAAmB;AAA1C,OADV;AAEI,MAAA,EAAE,EAAE;AAACH,QAAAA,OAAO,EAAC,CAAT;AAAYC,QAAAA,SAAS,EAAE,CAAC,IAAD,GAAMC,MAAM,CAACC,WAAb,GAAyB;AAAhD,OAFR;AAGI,MAAA,MAAM,EAAE;AAACC,QAAAA,QAAQ,EAAC;AAAV,OAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKCC,KAAK,iBACF;AAAK,MAAA,KAAK,EAAEA,KAAZ;AAAmB,MAAA,SAAS,EAAC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kFAFJ,eAGI;AAAM,MAAA,EAAE,EAAC,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,OAAtB;AAA8B,MAAA,IAAI,EAAC,OAAnC;AAA2C,MAAA,YAAY,EAAC,qBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAHJ,eAOI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,WAAtB;AAAkC,MAAA,QAAQ,EAAGC,CAAD,IAAO;AAC/C,aAAKhC,KAAL,GAAagC,CAAC,CAACC,MAAF,CAASjC,KAAtB;AACA,YAAIkC,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACAzB,QAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,SAAvC,GAAmD,KAAKZ,KAAL,CAAWoC,IAAX,CAAgB,CAAhB,EAAmBC,IAAtE;AACAH,QAAAA,MAAM,CAACI,aAAP,CAAqB,KAAKtC,KAAL,CAAW,CAAX,CAArB;AACH,OALD;AAMI,MAAA,MAAM,EAAC,QANX;AAMoB,MAAA,GAAG,EAAEuC,SAAS,IAAI,KAAKA,SAAL,GAAeA,SANrD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,eAcI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,EAAE,EAAC,eAAzB;AAAyC,MAAA,OAAO,EAAE,MAAM,KAAKA,SAAL,CAAeC,KAAf,EAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAdJ,eAeI;AAAM,MAAA,EAAE,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAfJ,eAesD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAftD,eAgBI;AAAQ,MAAA,IAAI,EAAC,aAAb;AAA2B,MAAA,EAAE,EAAC,eAA9B;AAA8C,MAAA,OAAO,EAAE,MAAM,KAAKvC,EAAL,EAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBJ,CADJ,CANJ,CADJ,CADJ;AAgCH;;AAhE8C","sourcesContent":["import React from 'react';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport './report.css';\r\nimport firebase from '../firebase';\r\n\r\nexport default class Report extends React.Component{\r\n    constructor(){\r\n        super();\r\n\r\n        this.files = null;\r\n    }\r\n\r\n    Up(){\r\n        let count = 0;\r\n        let ref = firebase.database().ref();\r\n        ref.on(\"child_added\", function(snap) {\r\n            count++;\r\n        });\r\n\r\n\r\n        let x, y;\r\n        let imgName = document.getElementById(\"custom-text\").innerHTML;\r\n        let checked = imgName.split('.');\r\n        firebase.database().ref('Images/'+checked[0]).put(this.files[0])\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n            x = position.coords.latitude;\r\n            y = position.coords.longitude;\r\n\r\n            firebase.database().ref().child('Marker'+count).set({\r\n                x: x,\r\n                y: y\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <>\r\n                <Spring\r\n                    from={{opacity:0, marginTop: window.innerHeight/2}}\r\n                    to={{opacity:1, marginTop: -61.5*window.innerHeight/100}}\r\n                    config={{duration:1000}}\r\n                >\r\n                {props => (\r\n                    <div style={props} className=\"report\">\r\n                        <div>\r\n                            <h1>Welcome to the Report Page</h1>\r\n                            <p>To report a fire, please input your email below and a photo of the fire.</p>\r\n                            <form id=\"form-email\">\r\n                                <input type=\"text\" id=\"email\" name=\"email\" defaultValue=\"someone@example.com\"></input>\r\n                            </form>\r\n    \r\n                            <input type=\"file\" id=\"real-file\" onChange={(e) => {\r\n                                this.files = e.target.files;\r\n                                let reader = new FileReader();\r\n                                document.getElementById(\"custom-text\").innerHTML = this.files.item(0).name;\r\n                                reader.readAsDataURL(this.files[0]);\r\n                            }}\r\n                                hidden=\"hidden\" ref={fileInput => this.fileInput=fileInput}/>\r\n                            <button type=\"button\" id=\"custom-button\" onClick={() => this.fileInput.click()}>CHOOSE A FILE</button>\r\n                            <span id=\"custom-text\">No file chosen, yet.</span><br />\r\n                            <button type=\"bnpm sutton\" id=\"upload-button\" onClick={() => this.Up()}>Upload</button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                </Spring>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}