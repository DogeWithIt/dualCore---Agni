{"ast":null,"code":"import '.env.local';\nconst xhr = new XMLHttpRequest();\nconst url = `https://${METEO_USERNAME}:${METEO_PASSWORD}@api.meteomatics.com/`;\n\nconst getMeteoData = (position, param) => {\n  var first = new Date();\n  var last = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);\n  const present = '' + last.getFullYear() + '-' + (last.getMonth() + 1) + '-' + last.getDate() + 'T' + last.getUTCHours() + ':' + last.getMinutes() + ':' + last.getSeconds() + 'Z--' + first.getFullYear() + '-' + (first.getMonth() + 1) + '-' + first.getDate() + 'T' + first.getUTCHours() + ':' + first.getMinutes() + ':' + first.getSeconds() + 'Z:PT1H';\n  const param1 = 't_2m:C';\n  const param2 = 'precip_1h:mm';\n  const param3 = 'wind_speed_10m:ms';\n  const param4 = 'relative_humidity_2m:p';\n  const pos = '' + position.x + ',' + position.y;\n  const format = 'json';\n  const endpoint1 = url + present + '/' + param1 + '/' + pos + '/' + format;\n  const endpoint2 = url + present + '/' + param2 + '/' + pos + '/' + format;\n  const endpoint3 = url + present + '/' + param3 + '/' + pos + '/' + format;\n  const endpoint4 = url + present + '/' + param4 + '/' + pos + '/' + format;\n  xhr.responseType = 'json';\n\n  xhr.onreadystatechange = () => {\n    if (xhr.readyState === XMLHttpRequest.DONE) {\n      return JSON.parse(xhr.response);\n    }\n  };\n\n  let endpoint;\n\n  if (param === 1) {\n    endpoint = endpoint1;\n  } else if (param === 2) {\n    endpoint = endpoint2;\n  } else if (param === 3) {\n    endpoint = endpoint3;\n  } else if (param === 4) {\n    endpoint = endpoint4;\n  }\n\n  xhr.open('GET', endpoint);\n  xhr.send();\n};\n\nexport default getMeteoData;","map":{"version":3,"sources":["D:/Site/dualcore/src/MeteoMaticsAPI/MeteoApi.js"],"names":["xhr","XMLHttpRequest","url","METEO_USERNAME","METEO_PASSWORD","getMeteoData","position","param","first","Date","last","now","present","getFullYear","getMonth","getDate","getUTCHours","getMinutes","getSeconds","param1","param2","param3","param4","pos","x","y","format","endpoint1","endpoint2","endpoint3","endpoint4","responseType","onreadystatechange","readyState","DONE","JSON","parse","response","endpoint","open","send"],"mappings":"AAAA,OAAO,YAAP;AAEA,MAAMA,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACA,MAAMC,GAAG,GAAI,WAAUC,cAAe,IAAGC,cAAe,uBAAxD;;AAEA,MAAMC,YAAY,GAAG,CAACC,QAAD,EAAWC,KAAX,KAAqB;AACtC,MAAIC,KAAK,GAAG,IAAIC,IAAJ,EAAZ;AACA,MAAIC,IAAI,GAAG,IAAID,IAAJ,CAASA,IAAI,CAACE,GAAL,KAAa,IAAI,EAAJ,GAAS,EAAT,GAAc,EAAd,GAAmB,IAAzC,CAAX;AACA,QAAMC,OAAO,GAAG,KAAGF,IAAI,CAACG,WAAL,EAAH,GAAsB,GAAtB,IAA2BH,IAAI,CAACI,QAAL,KAAgB,CAA3C,IAA8C,GAA9C,GAAkDJ,IAAI,CAACK,OAAL,EAAlD,GAAiE,GAAjE,GAAqEL,IAAI,CAACM,WAAL,EAArE,GAAwF,GAAxF,GAA4FN,IAAI,CAACO,UAAL,EAA5F,GAA8G,GAA9G,GAAkHP,IAAI,CAACQ,UAAL,EAAlH,GAAoI,KAApI,GACCV,KAAK,CAACK,WAAN,EADD,GACqB,GADrB,IAC0BL,KAAK,CAACM,QAAN,KAAiB,CAD3C,IAC8C,GAD9C,GACkDN,KAAK,CAACO,OAAN,EADlD,GACkE,GADlE,GACsEP,KAAK,CAACQ,WAAN,EADtE,GAC0F,GAD1F,GAC8FR,KAAK,CAACS,UAAN,EAD9F,GACiH,GADjH,GACqHT,KAAK,CAACU,UAAN,EADrH,GACwI,QADxJ;AAGA,QAAMC,MAAM,GAAG,QAAf;AACA,QAAMC,MAAM,GAAG,cAAf;AACA,QAAMC,MAAM,GAAG,mBAAf;AACA,QAAMC,MAAM,GAAG,wBAAf;AAEA,QAAMC,GAAG,GAAG,KAAKjB,QAAQ,CAACkB,CAAd,GAAkB,GAAlB,GAAwBlB,QAAQ,CAACmB,CAA7C;AACA,QAAMC,MAAM,GAAG,MAAf;AACA,QAAMC,SAAS,GAAGzB,GAAG,GAACU,OAAJ,GAAY,GAAZ,GAAgBO,MAAhB,GAAuB,GAAvB,GAA2BI,GAA3B,GAA+B,GAA/B,GAAmCG,MAArD;AACA,QAAME,SAAS,GAAG1B,GAAG,GAACU,OAAJ,GAAY,GAAZ,GAAgBQ,MAAhB,GAAuB,GAAvB,GAA2BG,GAA3B,GAA+B,GAA/B,GAAmCG,MAArD;AACA,QAAMG,SAAS,GAAG3B,GAAG,GAACU,OAAJ,GAAY,GAAZ,GAAgBS,MAAhB,GAAuB,GAAvB,GAA2BE,GAA3B,GAA+B,GAA/B,GAAmCG,MAArD;AACA,QAAMI,SAAS,GAAG5B,GAAG,GAACU,OAAJ,GAAY,GAAZ,GAAgBU,MAAhB,GAAuB,GAAvB,GAA2BC,GAA3B,GAA+B,GAA/B,GAAmCG,MAArD;AACA1B,EAAAA,GAAG,CAAC+B,YAAJ,GAAmB,MAAnB;;AAEA/B,EAAAA,GAAG,CAACgC,kBAAJ,GAAyB,MAAM;AAC3B,QAAGhC,GAAG,CAACiC,UAAJ,KAAmBhC,cAAc,CAACiC,IAArC,EAA0C;AACtC,aAAOC,IAAI,CAACC,KAAL,CAAWpC,GAAG,CAACqC,QAAf,CAAP;AACH;AACJ,GAJD;;AAMA,MAAIC,QAAJ;;AACA,MAAG/B,KAAK,KAAG,CAAX,EAAa;AACT+B,IAAAA,QAAQ,GAAGX,SAAX;AACH,GAFD,MAEO,IAAGpB,KAAK,KAAG,CAAX,EAAc;AACjB+B,IAAAA,QAAQ,GAAGV,SAAX;AACH,GAFM,MAEA,IAAGrB,KAAK,KAAG,CAAX,EAAa;AAChB+B,IAAAA,QAAQ,GAAGT,SAAX;AACH,GAFM,MAEA,IAAGtB,KAAK,KAAG,CAAX,EAAc;AACjB+B,IAAAA,QAAQ,GAAGR,SAAX;AACH;;AAED9B,EAAAA,GAAG,CAACuC,IAAJ,CAAS,KAAT,EAAgBD,QAAhB;AACAtC,EAAAA,GAAG,CAACwC,IAAJ;AACH,CAtCD;;AAyCA,eAAenC,YAAf","sourcesContent":["import '.env.local'\r\n\r\nconst xhr = new XMLHttpRequest();\r\nconst url = `https://${METEO_USERNAME}:${METEO_PASSWORD}@api.meteomatics.com/`;\r\n\r\nconst getMeteoData = (position, param) => {\r\n    var first = new Date();\r\n    var last = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);\r\n    const present = ''+last.getFullYear()+'-'+(last.getMonth()+1)+'-'+last.getDate()+'T'+last.getUTCHours()+':'+last.getMinutes()+':'+last.getSeconds()+'Z--'\r\n                    +first.getFullYear()+'-'+(first.getMonth()+1)+'-'+first.getDate()+'T'+first.getUTCHours()+':'+first.getMinutes()+':'+first.getSeconds()+'Z:PT1H'\r\n\r\n    const param1 = 't_2m:C';\r\n    const param2 = 'precip_1h:mm';\r\n    const param3 = 'wind_speed_10m:ms';\r\n    const param4 = 'relative_humidity_2m:p';\r\n\r\n    const pos = '' + position.x + ',' + position.y;\r\n    const format = 'json';\r\n    const endpoint1 = url+present+'/'+param1+'/'+pos+'/'+format;\r\n    const endpoint2 = url+present+'/'+param2+'/'+pos+'/'+format;\r\n    const endpoint3 = url+present+'/'+param3+'/'+pos+'/'+format;\r\n    const endpoint4 = url+present+'/'+param4+'/'+pos+'/'+format;\r\n    xhr.responseType = 'json';\r\n\r\n    xhr.onreadystatechange = () => {\r\n        if(xhr.readyState === XMLHttpRequest.DONE){\r\n            return JSON.parse(xhr.response);\r\n        }\r\n    }\r\n\r\n    let endpoint;\r\n    if(param===1){\r\n        endpoint = endpoint1;\r\n    } else if(param===2) {\r\n        endpoint = endpoint2;\r\n    } else if(param===3){\r\n        endpoint = endpoint3;\r\n    } else if(param===4) {\r\n        endpoint = endpoint4;\r\n    }\r\n\r\n    xhr.open('GET', endpoint);\r\n    xhr.send();\r\n}\r\n\r\n\r\nexport default getMeteoData;"]},"metadata":{},"sourceType":"module"}