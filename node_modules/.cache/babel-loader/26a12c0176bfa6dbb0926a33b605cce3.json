{"ast":null,"code":"var _jsxFileName = \"D:\\\\Site\\\\dualcore\\\\src\\\\Components\\\\Map\\\\Map.js\";\nimport React from \"react\";\nimport ReactMapGL from \"react-map-gl\";\nimport { Marker } from \"react-map-gl\";\nimport firebase from '../firebase';\nimport { useState } from \"react\";\nimport getMeteoData from '../../MeteoMaticsAPI/MeteoApi';\nimport './marker.css';\n\nfunction getPosition(index) {\n  let elements = document.getElementsByClassName(\"marker\");\n  if (elements[index]) return {\n    x: elements[index].latitude,\n    y: elements[index].longitude\n  };\n  return {\n    x: 0,\n    y: 0\n  };\n}\n\nexport default function Map() {\n  var [viewport, setViewport] = useState({\n    latitude: 37.78,\n    longitude: -122.41,\n    width: \"100vw\",\n    height: \"100vh\",\n    zoom: 4\n  });\n  const ref = firebase.database().ref().orderByKey();\n  let coords = [];\n  ref.on(\"value\", snap => {\n    snap.forEach(child => {\n      coords.push([child.val().x, child.val().y]);\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ReactMapGL, Object.assign({\n    className: \"map\"\n  }, viewport, {\n    mapboxApiAccessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n    mapStyle: \"mapbox://styles/dogewithit/ckfs5obbg1tas19nrt6ryulci\",\n    onViewportChange: viewport => {\n      setViewport(viewport);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"markers\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, coords.map((value, index) => /*#__PURE__*/React.createElement(Marker, {\n    className: \"marker\",\n    key: index,\n    latitude: value[0],\n    longitude: value[1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => getMeteoData({\n      x: value[0],\n      y: value[1]\n    }, 3),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://i.imgur.com/lzoCh1k.png\",\n    height: \"15%\",\n    width: \"15%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 19\n    }\n  })))))));\n}","map":{"version":3,"sources":["D:/Site/dualcore/src/Components/Map/Map.js"],"names":["React","ReactMapGL","Marker","firebase","useState","getMeteoData","getPosition","index","elements","document","getElementsByClassName","x","latitude","y","longitude","Map","viewport","setViewport","width","height","zoom","ref","database","orderByKey","coords","on","snap","forEach","child","push","val","process","env","REACT_APP_MAPBOX_TOKEN","map","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAAQC,MAAR,QAAqB,cAArB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAO,cAAP;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA2B;AACzB,MAAIC,QAAQ,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,QAAhC,CAAf;AACA,MAAGF,QAAQ,CAACD,KAAD,CAAX,EACE,OAAO;AAACI,IAAAA,CAAC,EAAEH,QAAQ,CAACD,KAAD,CAAR,CAAgBK,QAApB;AAA8BC,IAAAA,CAAC,EAAEL,QAAQ,CAACD,KAAD,CAAR,CAAgBO;AAAjD,GAAP;AACF,SAAO;AAACH,IAAAA,CAAC,EAAC,CAAH;AAAME,IAAAA,CAAC,EAAC;AAAR,GAAP;AACD;;AAED,eAAe,SAASE,GAAT,GAAe;AAC5B,MAAI,CAACC,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC;AACrCQ,IAAAA,QAAQ,EAAE,KAD2B;AAErCE,IAAAA,SAAS,EAAE,CAAC,MAFyB;AAGrCI,IAAAA,KAAK,EAAE,OAH8B;AAIrCC,IAAAA,MAAM,EAAE,OAJ6B;AAKrCC,IAAAA,IAAI,EAAE;AAL+B,GAAD,CAAtC;AAQA,QAAMC,GAAG,GAAGlB,QAAQ,CAACmB,QAAT,GAAoBD,GAApB,GAA0BE,UAA1B,EAAZ;AACA,MAAIC,MAAM,GAAG,EAAb;AACAH,EAAAA,GAAG,CAACI,EAAJ,CAAO,OAAP,EAAiBC,IAAD,IAAU;AACtBA,IAAAA,IAAI,CAACC,OAAL,CAAcC,KAAD,IAAW;AACpBJ,MAAAA,MAAM,CAACK,IAAP,CAAY,CAACD,KAAK,CAACE,GAAN,GAAYnB,CAAb,EAAgBiB,KAAK,CAACE,GAAN,GAAYjB,CAA5B,CAAZ;AACH,KAFD;AAGH,GAJD;AAMA,sBACE,uDACE,oBAAC,UAAD;AACE,IAAA,SAAS,EAAC;AADZ,KAEMG,QAFN;AAGE,IAAA,oBAAoB,EAAEe,OAAO,CAACC,GAAR,CAAYC,sBAHpC;AAIE,IAAA,QAAQ,EAAC,sDAJX;AAKE,IAAA,gBAAgB,EAAGjB,QAAD,IAAc;AAC9BC,MAAAA,WAAW,CAACD,QAAD,CAAX;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAQE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIQ,MAAM,CAACU,GAAP,CAAW,CAACC,KAAD,EAAQ5B,KAAR,kBACT,oBAAC,MAAD;AACE,IAAA,SAAS,EAAC,QADZ;AAEE,IAAA,GAAG,EAAEA,KAFP;AAGE,IAAA,QAAQ,EAAE4B,KAAK,CAAC,CAAD,CAHjB;AAIE,IAAA,SAAS,EAAEA,KAAK,CAAC,CAAD,CAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME;AAAQ,IAAA,OAAO,EAAE,MAAM9B,YAAY,CAAC;AAACM,MAAAA,CAAC,EAACwB,KAAK,CAAC,CAAD,CAAR;AAAatB,MAAAA,CAAC,EAACsB,KAAK,CAAC,CAAD;AAApB,KAAD,EAA2B,CAA3B,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAC,iCAAT;AAA2C,IAAA,MAAM,EAAC,KAAlD;AAAwD,IAAA,KAAK,EAAC,KAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,CADF,CAFJ,CARF,CADF,CADF;AA8BD","sourcesContent":["import React from \"react\";\r\nimport ReactMapGL from \"react-map-gl\";\r\nimport {Marker} from \"react-map-gl\";\r\nimport firebase from '../firebase';\r\nimport { useState } from \"react\";\r\nimport getMeteoData from '../../MeteoMaticsAPI/MeteoApi';\r\nimport './marker.css';\r\n\r\nfunction getPosition(index){\r\n  let elements = document.getElementsByClassName(\"marker\");\r\n  if(elements[index])\r\n    return {x: elements[index].latitude, y: elements[index].longitude};\r\n  return {x:0, y:0};\r\n}\r\n\r\nexport default function Map() {\r\n  var [viewport, setViewport] = useState({\r\n    latitude: 37.78,\r\n    longitude: -122.41,\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    zoom: 4,\r\n  });\r\n\r\n  const ref = firebase.database().ref().orderByKey();\r\n  let coords = [];\r\n  ref.on(\"value\", (snap) => {\r\n      snap.forEach((child) => {\r\n          coords.push([child.val().x, child.val().y]);\r\n      });\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <ReactMapGL\r\n        className=\"map\"\r\n        {...viewport}\r\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\r\n        mapStyle=\"mapbox://styles/dogewithit/ckfs5obbg1tas19nrt6ryulci\"\r\n        onViewportChange={(viewport) => {\r\n          setViewport(viewport);\r\n        }}>\r\n        <div className=\"markers\">\r\n          {\r\n            coords.map((value, index) => (\r\n              <Marker\r\n                className=\"marker\"\r\n                key={index}\r\n                latitude={value[0]}\r\n                longitude={value[1]}\r\n              >\r\n                <button onClick={() => getMeteoData({x:value[0], y:value[1]}, 3)} >\r\n                  <img src=\"https://i.imgur.com/lzoCh1k.png\" height=\"15%\" width=\"15%\"></img>\r\n                </button>\r\n              </Marker>\r\n            ))\r\n          }\r\n        </div>\r\n        \r\n      </ReactMapGL>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}